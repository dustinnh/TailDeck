# TailDeck Environment Variables
# Copy this file to .env.local and fill in the values
# NEVER commit .env.local or any file with actual secrets

# ============================================
# DATABASE (PostgreSQL)
# ============================================
DATABASE_URL="postgresql://taildeck:taildeck_dev@localhost:5432/taildeck"

# ============================================
# AUTH.JS CONFIGURATION
# ============================================
# Generate with: openssl rand -base64 32
# MUST be at least 32 characters
AUTH_SECRET="generate-a-secret-with-openssl-rand-base64-32"
AUTH_URL="http://localhost:3000"

# ============================================
# AUTHENTIK OIDC PROVIDER
# Configure in Authentik Admin > Applications > Providers
# Or let setup.sh auto-configure with the bootstrap token
# ============================================
AUTH_AUTHENTIK_ID="taildeck"
AUTH_AUTHENTIK_SECRET="your-authentik-client-secret"
AUTH_AUTHENTIK_ISSUER="http://localhost:9000/application/o/taildeck/"

# ============================================
# AUTHENTIK BOOTSTRAP (for auto-configuration)
# Generate with: openssl rand -hex 32
# Used by setup.sh to auto-configure Authentik OAuth2 provider
# ============================================
# AUTHENTIK_BOOTSTRAP_TOKEN="your-bootstrap-token"
# AUTHENTIK_BOOTSTRAP_EMAIL="admin@example.com"
# AUTHENTIK_BOOTSTRAP_PASSWORD="your-admin-password"
AUTHENTIK_URL="http://localhost:9000"

# ============================================
# HEADSCALE CONNECTION
# These are SERVER-ONLY - NEVER use NEXT_PUBLIC_ prefix
# ============================================
HEADSCALE_URL="http://localhost:8080"
# Generate with: docker exec headscale headscale apikeys create
HEADSCALE_API_KEY="your-headscale-api-key"

# ============================================
# OPTIONAL: FLOW LOGS (Loki)
# ============================================
# LOKI_URL="http://localhost:3100"
# LOKI_TENANT_ID=""
# LOKI_USERNAME=""
# LOKI_PASSWORD=""

# ============================================
# OPTIONAL: LOGGING
# ============================================
LOG_LEVEL="info"
# Options: trace, debug, info, warn, error, fatal
